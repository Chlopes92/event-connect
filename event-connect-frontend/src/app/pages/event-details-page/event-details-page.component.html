<section class="event-details-wrapper">
  <!-- üé® Toast Container -->
  <div class="toast-container">
    <div 
      *ngFor="let toast of toasts" 
      class="toast"
      [class.toast-success]="toast.type === 'success'"
      [class.toast-error]="toast.type === 'error'"
      [class.toast-warning]="toast.type === 'warning'"
      [class.toast-info]="toast.type === 'info'">
      <div class="toast-content">
        <div class="toast-icon">
          @if(toast.type === 'success'){
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2"/>
          </svg>
          }
          @if(toast.type === 'error'){
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2"/>
          </svg>
          }
          @if(toast.type === 'warning'){
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M12 9V13M12 17H12.01M10.29 3.86L1.82 18A2 2 0 003.64 21H20.36A2 2 0 0022.18 18L13.71 3.86A2 2 0 0010.29 3.86Z" stroke="currentColor" stroke-width="2"/>
          </svg>
          }
        </div>
        <span class="toast-message">{{ toast.message }}</span>
      </div>
      <button type="button" class="toast-close" (click)="removeToast(toast.id)">√ó</button>
    </div>
  </div>

  <!-- üîÑ Loading State -->
  @if(isLoading){
  <div class="loading-overlay">
    <div class="spinner"></div>
    <p>Chargement de l'√©v√©nement...</p>
  </div>
  }

  <!-- ‚úÖ Event Content -->
  @if(!isLoading && event.id){
  
  <!-- üñºÔ∏è Hero Section avec Card Overlay -->
  <div class="hero-section">
    <button type="button" class="back-button" (click)="goBack()">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
        <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      Retour √† l'accueil
    </button>
    
    <!-- Image de fond -->
    <div class="hero-image-container">
      <img [src]="getImageUrl(event.imgUrl)" [alt]="event.nameEvent" class="hero-image">
      <div class="hero-overlay"></div>
    </div>

    <!-- Card blanche par-dessus -->
    <div class="event-info-card">
      
      <h1 class="event-title">{{ event.nameEvent }}</h1>
      
      <div class="event-meta">
        <div class="meta-item">
          <span class="meta-label">Date & horaires de l'event</span>
          <span class="meta-value">{{ event.dateEvent | date: 'dd/MM/yyyy' }}</span>
        </div>
        
        <div class="meta-item">
          <span class="meta-label">Adresse de l'event</span>
          <span class="meta-value">{{ event.address }}</span>
        </div>
        
        <div class="meta-item">
          <span class="meta-label">Prix de l'event</span>
          <span class="meta-value price">{{ event.price === 0 || !event.price ? 'Gratuit' : event.price + ' ‚Ç¨' }}</span>
        </div>
      </div>

      <div class="card-actions">
        <button class="btn-reserve">
          R√©server une place
        </button>
        <button class="btn-favorite">
          Ajouter aux favoris
        </button>
      </div>
    </div>
  </div>

  <!-- üìÑ Content Section -->
  <div class="content-container">
    <!-- Description -->
    <section class="content-section">
      <h2>Description</h2>
      <div class="section-underline"></div>
      <p>{{ event.description }}</p>
    </section>

    <!-- Programmes -->
    @if(event.program){
    <section class="content-section">
      <h2>Programmes</h2>
      <div class="section-underline"></div>
      <div class="program-box">
        <p>{{ event.program }}</p>
      </div>
    </section>
    }

    <!-- Contact -->
    <section class="content-section contact-section">
      <h2>Contacter l'organisateur</h2>
      <div class="section-underline"></div>
      <div class="contact-box">
        <p>{{ event.contact }}</p>
      </div>
    </section>
  </div>
  }
</section>